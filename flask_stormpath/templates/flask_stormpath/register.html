{% extends config['STORMPATH_BASE_TEMPLATE'] %}

{% block title %}Create an Account{% endblock %}
{% block description %}Create a new account.{% endblock %}
{% block bodytag %}register{% endblock %}

{% block body %}
  <div class="container custom-container">
    <div class="va-wrapper">
      <div class="view registration-view container">
        <div class="box row">
          <div class="col-sm-12">
            <div class="header">
              <span>Create an Account</span>
            </div>
            <form class="registration-form form-horizontal sp-form" role="form" method="post">
              {{ form.hidden_tag() }}
              {% with messages = get_flashed_messages() %}
                {% if messages %}
                  <div class="alert alert-danger">
                    {% for message in messages %}
                      {{ message }}
                    {% endfor %}
                  </div>
                {% endif %}
              {% endwith %}
              {% if config['STORMPATH_ENABLE_USERNAME'] %}
                <div class="form-group group-username" form-group>
                  <label class="col-sm-4">Username</label>
                  <div class="col-sm-8">
                    {% if config['STORMPATH_REQUIRE_USERNAME'] %}
                      {{ form.username(class='form-control', placeholder='Username', required='true') }}
                    {% else %}
                      {{ form.username(class='form-control', placeholder='Username') }}
                    {% endif %}
                  </div>
                </div>
              {% endif %}
              {% if config['STORMPATH_ENABLE_GIVEN_NAME'] %}
                <div class="form-group group-first-name" form-group>
                  <label class="col-sm-4">First Name</label>
                  <div class="col-sm-8">
                    {% if config['STORMPATH_REQUIRE_GIVEN_NAME'] %}
                      {{ form.given_name(class='form-control', placeholder='First Name', required='true') }}
                    {% else %}
                      {{ form.given_name(class='form-control', placeholder='First Name') }}
                    {% endif %}
                  </div>
                </div>
              {% endif %}
              {% if config['STORMPATH_ENABLE_MIDDLE_NAME'] %}
                <div class="form-group group-middle-name" form-group>
                  <label class="col-sm-4">Middle Name</label>
                  <div class="col-sm-8">
                    {% if config['STORMPATH_REQUIRE_MIDDLE_NAME'] %}
                      {{ form.middle_name(class='form-control', placeholder='Middle Name', required='true') }}
                    {% else %}
                      {{ form.middle_name(class='form-control', placeholder='Middle Name') }}
                    {% endif %}
                  </div>
                </div>
              {% endif %}
              {% if config['STORMPATH_ENABLE_SURNAME'] %}
                <div class="form-group group-last-name" form-group>
                  <label class="col-sm-4">Last Name</label>
                  <div class="col-sm-8">
                    {% if config['STORMPATH_REQUIRE_SURNAME'] %}
                      {{ form.surname(class='form-control', placeholder='Last Name', required='true') }}
                    {% else %}
                      {{ form.surname(class='form-control', placeholder='Last Name') }}
                    {% endif %}
                  </div>
                </div>
              {% endif %}
              <div class="form-group group-email" form-group>
                <label class="col-sm-4">Email</label>
                <div class="col-sm-8">
                  {{ form.email(class='form-control', placeholder='Email', required='true', type='email') }}
                </div>
              </div>
              <div class="form-group group-password" form-group>
                <label class="col-sm-4">Password</label>
                <div class="col-sm-8">
                  {{ form.password(class='form-control', placeholder='Password', required='true', type='password') }}
                </div>
              </div>
              <button class="btn btn-register btn-sp-green" type="submit">Create Account</button>
            </form>
          </div>
        </div>
        {% if config['STORMPATH_ENABLE_LOGIN'] %}
          <a class="to-login" href="{{ url_for('stormpath.login') }}">Back to Log In</a>
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
